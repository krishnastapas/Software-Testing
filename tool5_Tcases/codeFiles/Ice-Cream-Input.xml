<System name="Ice-Cream">
    <Function name="Cones">
    <!-- 
    Usage: Checking different Scoop level & toppings of ice-cream
    We can add different levels of scoops in different condition of cone functions for example
    1) If cone is not there then we will not add any scoop of ice-cream.
    2) If cone is there and customer want Plain ice-cream then we can add maximum of 1 scoop and 1 topping in ice-cream.
    3) If cone is there and customer want Plenty ice-cream then we can add min of 1 and maximum of 2 scoop and 2 topping in ice-cream.
    4) If cone is there and customer want Grande ice-cream then we can add maximum of 4 scoop and 3 maximum and 1 minimum topping in ice-cream.
    5) If cone is there and customer want Too-much ice-cream then we can add maximum of 3 scoop and 4 minimum topping in ice-cream.
    6) If cone is there and customer want Too-much ice-cream then we can add maximum of 4 scoop and 5 minimum topping in ice-cream.
-->

        <Input>
            <Var name="Cone">
                <Value name="Empty" failure="true">
                    <When>
                        <LessThan property="scoop" max="1"/>
                    </When>
                </Value>
                <Value name="Plain">
                    <When>
                        <AllOf>
                            <Equals property="scoop" count="1"/>
                            <NotMoreThan property="topping" max="1"/>
                        </AllOf>
                    </When>
                </Value>
                <Value name="Plenty">
                    <When>
                        <AllOf>
                            <Between property="scoop" min="1" max="2"/>
                            <NotMoreThan property="topping" max="2"/>
                        </AllOf>
                    </When>
                </Value>
                <Value name="Grande">
                    <When>
                        <AllOf>
                            <Between property="scoop" exclusiveMin="0" exclusiveMax="4"/>
                            <Between property="topping" min="1" max="3"/>
                        </AllOf>
                    </When>
                </Value>
                <Value name="Too-Much" failure="true">
                    <When>
                        <AnyOf>
                            <MoreThan property="scoop" min="3"/>                            
                            <NotLessThan property="topping" min="4"/>                            
                        </AnyOf> 
                    </When>
                </Value>
            </Var>

            <VarSet name="Flavors">
                <Var name="Vanilla">
                    <Value name="Yes" property="scoop"/>
                    <Value name="No"/>
                </Var>
                <Var name="Chocolate">
                    <Value name="Yes" property="scoop"/>
                    <Value name="No"/>
                </Var>
                <Var name="Strawberry">
                    <Value name="Yes" property="scoop"/>
                    <Value name="No"/>
                </Var>
                <Var name="Pistachio">
                    <Value name="Yes" property="scoop"/>
                    <Value name="No"/>
                </Var>
                <Var name="Lemon">
                    <Value name="Yes" property="scoop"/>
                    <Value name="No"/>
                </Var>
                <Var name="Coffee">
                    <Value name="Yes" property="scoop"/>
                    <Value name="No"/>
                </Var>
            </VarSet>
            
            <VarSet name="Toppings" when="scoop">
                <Var name="Sprinkles">
                    <Value name="Yes" property="topping"/>
                    <Value name="No"/>
                </Var>
                <Var name="Pecans">
                    <Value name="Yes" property="topping"/>
                    <Value name="No"/>
                </Var>
                <Var name="Oreos">
                    <Value name="Yes" property="topping"/>
                    <Value name="No"/>
                </Var>
                <Var name="Cherries">
                    <Value name="Yes" property="topping"/>
                    <Value name="No"/>
                </Var>
                <Var name="MMs">
                    <Value name="Yes" property="topping"/>
                    <Value name="No"/>
                </Var>
                <Var name="Peppermint">
                    <Value name="Yes" property="topping"/>
                    <Value name="No"/>
                </Var>
            </VarSet>
        </Input>
    </Function>
</System>
